<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - STARBLUE</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root{
  --primary-color:#0ea5e9;
  --secondary-color:#2563eb;
  --success-color:#10b981;
  --warning-color:#f59e0b;
  --danger-color:#ef4444;
  --dark-color:#1f2937;
  --light-color:#f8fafc;

  /* extras */
  --radius:14px;
  --radius-sm:10px;
  --shadow-sm:0 4px 6px rgba(0,0,0,.10);
  --shadow-md:0 8px 25px rgba(0,0,0,.14);
  --fs-base:clamp(14px,1.6vw,16px);
  --fs-h2:clamp(1.1rem,2.4vw,1.5rem);
  --fs-h3:clamp(1rem,2vw,1.25rem);
}

html{-webkit-text-size-adjust:100%}
*,*::before,*::after{box-sizing:border-box}

body{
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height:100vh;
  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  font-size:var(--fs-base);
  line-height:1.55;
  margin:0;
}

/* ===== Header ===== */
.admin-header{
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  color:#fff;
  padding: clamp(.75rem, 2vw, 1rem) 0;
  box-shadow: var(--shadow-sm);
}
.admin-header h2{
  margin:0 0 .25rem 0;
  font-size:var(--fs-h2);
}
.admin-header p{
  margin:0;
  font-size:clamp(.9rem,1.6vw,1rem);
  opacity:.95;
}

/* ===== Top Nav (pills) ===== */
.admin-nav{
  background:#fff;
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
  margin: clamp(1rem,3vw,2rem) 0;
  padding: clamp(.75rem,2vw,1rem);
}
.nav-pills{gap:.25rem; flex-wrap:wrap}
.nav-link{
  color:var(--dark-color);
  font-weight:600;
  padding:.6rem .95rem;
  border-radius:10px;
  transition: transform .2s ease, background .2s ease, color .2s ease;
  white-space:nowrap;
}
.nav-link:hover,.nav-link.active{
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  color:#fff !important;
  transform: translateY(-2px);
}

/* ===== Cards: stats + content ===== */
.stats-card,
.content-section{
  background:#fff;
  border-radius: var(--radius);
  padding: clamp(1rem,3vw,2rem);
  box-shadow: var(--shadow-md);
  border:none;
  margin-bottom: clamp(1rem,3vw,2rem);
}
.stats-card{transition: transform .2s ease}
.stats-card:hover{transform: translateY(-4px)}
.stats-icon{
  width:60px;height:60px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:1.5rem;color:#fff;margin-bottom:.8rem;
}
.stats-number{
  font-size:clamp(1.6rem,4vw,2.5rem);
  font-weight:800;color:var(--dark-color);margin-bottom:.35rem;
}
.stats-label{color:#6b7280;font-weight:600}

.section-title{
  color:var(--dark-color);
  font-weight:800;
  margin-bottom:1rem;
  padding-bottom:.5rem;
  border-bottom:3px solid var(--primary-color);
  font-size:var(--fs-h3);
}

/* ===== Buttons ===== */
.btn-primary{
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  border:none;border-radius:10px;
  padding:.7rem 1.25rem;font-weight:700;
  transition: transform .2s ease, box-shadow .2s ease, opacity .2s ease;
}
.btn-primary:hover{
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(14,165,233,.35);
}

/* Outline light buttons in header stay readable on small screens */
.btn-outline-light{border-color:rgba(255,255,255,.7)}

/* On very small screens, stack header actions */
@media (max-width: 575.98px){
  .admin-header .d-flex{flex-direction:column; align-items:flex-start; gap:.5rem}
  .admin-header .btn{width:100%}
}

/* ===== Quick actions grid ===== */
.quick-actions{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: clamp(.75rem,2vw,1rem);
  margin-top: clamp(1rem,2.5vw,2rem);
}
.action-card{
  background:#fff;border-radius:12px;padding:1.25rem;text-align:center;
  box-shadow: var(--shadow-sm);transition: transform .2s ease, box-shadow .2s ease, color .2s ease;
  text-decoration:none;color:var(--dark-color);
}
.action-card:hover{
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(0,0,0,.15);
  color: var(--primary-color);
}
.action-icon{font-size:2rem;margin-bottom:.6rem;color:var(--primary-color)}

/* ===== Tables ===== */
.table{
  border-radius:10px; overflow:hidden; background:#fff;
  box-shadow: var(--shadow-sm);
}
.table thead th{
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  color:#fff;border:none;font-weight:700;
  padding: clamp(.7rem,2vw,1rem);
  white-space:nowrap;
}
.table tbody td{
  padding: clamp(.6rem,2vw,1rem);
  vertical-align:middle;border-color:#e5e7eb;
  word-break:break-word;
}
.table tbody td strong{font-weight:700}
.badge{padding:.45rem .7rem;border-radius:20px;font-weight:700;font-size:.8rem}

/* Make tables easier on phones */
.table-responsive{overflow-x:auto}
@media (max-width: 575.98px){
  .table tbody td:first-child strong{display:inline-block; max-width:100%}
}

/* ===== Bootstrap grid tweaks ===== */
@media (max-width: 991.98px){
  .row>[class*="col-"]{margin-bottom:1rem}
}

/* ===== Reduced motion ===== */
@media (prefers-reduced-motion: reduce){
  *{transition:none !important; animation:none !important}
}

    </style>
</head>
<body>
    <!-- Admin Header -->
    <div class="admin-header">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <h2><i class="fas fa-star me-2"></i>STARBLUE Admin Panel</h2>
                    <p class="mb-0">Welcome back, {{ current_user.full_name }}!</p>
                </div>
                <div>
                    <a href="{{ url_for('index') }}" class="btn btn-outline-light me-2">
                        <i class="fas fa-home me-1"></i>View Site
                    </a>
                    <a href="{{ url_for('logout') }}" class="btn btn-outline-light">
                        <i class="fas fa-sign-out-alt me-1"></i>Logout
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Admin Navigation -->
        <div class="admin-nav">
            <ul class="nav nav-pills justify-content-center">
                <li class="nav-item">
                    <a class="nav-link active" href="{{ url_for('admin_dashboard') }}">
                        <i class="fas fa-tachometer-alt me-1"></i>Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('admin_blog') }}">
                        <i class="fas fa-blog me-1"></i>Blog Posts
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('admin_faq') }}">
                        <i class="fas fa-question-circle me-1"></i>FAQ
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('admin_pages') }}">
                        <i class="fas fa-file-alt me-1"></i>Pages
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('admin_users') }}">
                        <i class="fas fa-users me-1"></i>Users
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('admin_reports') }}">
                        <i class="fas fa-chart-bar me-1"></i>Reports
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('admin_settings') }}">
                        <i class="fas fa-cog me-1"></i>Settings
                    </a>
                </li>
            </ul>
        </div>

        <!-- Statistics Cards -->
        <div class="row">
            <div class="col-md-3">
                <div class="stats-card">
                    <div class="stats-icon" style="background: linear-gradient(135deg, var(--success-color), #059669);">
                        <i class="fas fa-blog"></i>
                    </div>
                    <div class="stats-number">{{ stats.total_blog_posts or 0 }}</div>
                    <div class="stats-label">Blog Posts</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card">
                    <div class="stats-icon" style="background: linear-gradient(135deg, var(--warning-color), #d97706);">
                        <i class="fas fa-question-circle"></i>
                    </div>
                    <div class="stats-number">{{ stats.total_faqs or 0 }}</div>
                    <div class="stats-label">FAQ Items</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card">
                    <div class="stats-icon" style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <div class="stats-number">{{ stats.total_pages or 0 }}</div>
                    <div class="stats-label">Dynamic Pages</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card">
                    <div class="stats-icon" style="background: linear-gradient(135deg, var(--danger-color), #dc2626);">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stats-number">{{ stats.total_users or 0 }}</div>
                    <div class="stats-label">Total Users</div>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="content-section">
            <h3 class="section-title">Quick Actions</h3>
            <div class="quick-actions">
                <a href="{{ url_for('admin_add_blog') }}" class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-plus-circle"></i>
                    </div>
                    <h5>Add Blog Post</h5>
                    <p class="text-muted mb-0">Create a new blog post</p>
                </a>
                <a href="{{ url_for('admin_add_faq') }}" class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-question-circle"></i>
                    </div>
                    <h5>Add FAQ</h5>
                    <p class="text-muted mb-0">Add new FAQ item</p>
                </a>
                <a href="{{ url_for('admin_add_page') }}" class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-file-plus"></i>
                    </div>
                    <h5>Add Page</h5>
                    <p class="text-muted mb-0">Create dynamic page</p>
                </a>
                <a href="{{ url_for('admin_users') }}" class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <h5>Manage Users</h5>
                    <p class="text-muted mb-0">View and manage users</p>
                </a>
            </div>
        </div>

        <!-- Recent Activity -->
        <div class="row">
            <div class="col-md-6">
                <div class="content-section">
                    <h3 class="section-title">Recent Blog Posts</h3>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Title</th>
                                    <th>Status</th>
                                    <th>Views</th>
                                    <th>Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for post in recent_posts[:5] %}
                                <tr>
                                    <td>
                                        <strong>{{ post.title[:30] }}...</strong>
                                    </td>
                                    <td>
                                        <span class="badge bg-{{ 'success' if post.status == 'published' else 'warning' }}">
                                            {{ post.status.title() }}
                                        </span>
                                    </td>
                                    <td>{{ post.views }}</td>
                                    <td>{{ post.created_at.strftime('%Y-%m-%d') }}</td>
                                </tr>
                                {% else %}
                                <tr>
                                    <td colspan="4" class="text-center text-muted">No blog posts yet</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="content-section">
                    <h3 class="section-title">Recent Users</h3>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Joined</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for user in recent_users[:5] %}
                                <tr>
                                    <td>
                                        <strong>{{ user.full_name }}</strong>
                                    </td>
                                    <td>{{ user.email }}</td>
                                    <td>{{ user.created_at.strftime('%Y-%m-%d') }}</td>
                                </tr>
                                {% else %}
                                <tr>
                                    <td colspan="3" class="text-center text-muted">No users yet</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
