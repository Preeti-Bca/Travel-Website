{% extends "base.html" %}

{% block title %}STARBLUE - Book Flights, Trains & Buses{% endblock %}

{% block extra_css %}
<style>
    /* ---------- HERO SECTION ---------- */
    .hero-section {
        background: linear-gradient(120deg, #537ed1 10%, #764ba2 100%);
        color: #fff;
        min-height: 78vh;
        display: flex;
        align-items: center;
        position: relative;
        overflow: hidden;
    }
    .hero-section::before {
        content: "";
        position: absolute;
        right: -100px; bottom: -130px;
        width: 320px; height: 320px;
        background: radial-gradient(circle at 70% 70%, #fa89bc 12%, #764ba225 85%);
        opacity: .33;
        border-radius: 100%;
        z-index: 1;
        pointer-events: none;
        animation: hero-bubble 6s ease-in-out infinite alternate;
    }
    @keyframes hero-bubble {
        to { right: -50px; bottom: -110px; }
    }
    .hero-content {
        position: relative;
        z-index: 2;
        animation: fadeInLeft 1.1s .15s both;
    }
    @keyframes fadeInLeft {
        from {
            opacity: 0;
            transform: translateX(-60px) scale(.93);
        }
        to {
            opacity: 1;
            transform: none;
        }
    }
    .hero-title {
        font-size: 3.65rem;
        font-weight: 800;
        letter-spacing: -.01em;
        margin-bottom: 1.3rem;
        line-height: 1.13;
        text-shadow: 0 3px 18px #533bac25;
        animation: popText 0.7s .35s both;
    }
    .hero-title .text-warning {
        color: #ffe381 !important;
        filter: drop-shadow(0 6px 16px #ffe38155);
        animation: glowText 2.3s infinite alternate;
    }
    @keyframes glowText {
        0% { text-shadow: 0 0 0 #ffe38144; }
        100% { text-shadow: 0 0 18px #ffe38188; }
    }
    @keyframes popText {
        from { opacity: 0; transform: scale(.87);}
        80% { transform: scale(1.04);}
        to { opacity: 1; transform: none;}
    }
    .hero-subtitle {
        font-size: 1.22rem;
        margin-bottom: 2.4rem;
        opacity: 0.95;
        animation: fadeInText 1.2s .32s both;
    }
    @keyframes fadeInText {
        from { opacity:0; transform: translateY(15px);}
        to { opacity:1; }
    }
    .hero-stats {
        display: flex;
        gap: 2rem;
        margin-top: 2.3rem;
        animation: fadeInUp 1.1s .55s both;
    }
    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(50px);}
        to { opacity: 1; transform: none;}
    }
    .stat-item {
        background: rgba(255,255,255,0.09);
        padding: 1.3rem 2.1rem;
        border-radius: 0.9rem;
        box-shadow: 0 6px 38px 0 #2c3c943a;
        text-align: center;
        position: relative;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
        animation: popUp .65s cubic-bezier(.24,.87,.48,1.08);
    }
    .stat-item h3 {
        font-size: 2rem;
        font-weight: 700;
        line-height: 1;
        color: #ffe381;
        margin-bottom: .4rem;
        text-shadow: 0 2px 18px #cea91260;
        animation: popUp .7s .7s both;
    }
    .stat-item p {
        color: #fff;
        letter-spacing: .03em;
        margin-bottom: 0;
    }
    @keyframes popUp {
        from { opacity:0; transform: scale(.92);}
        to { opacity:1; transform: none;}
    }
    .hero-image {
        position: relative;
        z-index: 2;
        animation: fadeInRight 1.2s .09s both;
    }
    .hero-image i {
        filter: drop-shadow(0 5px 23px #ffedc134);
        color: #ffe381ee;
        transform: skewY(-2.5deg);
        animation: planeFly 4s infinite alternate cubic-bezier(.6,1,.53,.98);
    }
    @keyframes fadeInRight {
        from { opacity:0; transform: translateX(75px);}
        to { opacity:1; transform:none;}
    }
    @keyframes planeFly {
        0% { transform: translateY(0) skewY(-2.5deg);}
        100% { transform: translateY(-17px) skewY(-2.5deg);}
    }

    /* ---------- SEARCH CARD/TABS ---------- */
    .search-section {
        z-index: 15;
        position: relative;
    }
    .search-card {
        background: #fff;
        border-radius: 20px;
        box-shadow: 0 12px 45px -18px #7e56ef40, 0 1px 0 #f3ebf6;
        padding: 2.32rem 2.6rem 2.3rem 2.6rem;
        margin-top: -110px;
        position: relative;
        z-index: 2;
        animation: slideUpFadeIn 1s .3s both;
        min-width: 0;
    }
    @keyframes slideUpFadeIn {
        from { opacity: 0; transform: translateY(60px);}
        to { opacity: 1; transform: none;}
    }
    .nav-pills .nav-link {
        border-radius: 66px;
        padding: 1.08rem 2.25rem;
        margin: 0 0.6rem;
        font-size: 1.16rem;
        font-weight: 500;
        color: #764ba2;
        background: #f3f0fd;
        border: none;
        box-shadow: 0 1px 6px #a99aed10;
        transition: background .18s, color .18s, box-shadow .12s;
        display: flex;
        align-items: center;
        gap: 0.65rem;
        letter-spacing: .01em;
    }
    .nav-pills .nav-link i { font-size: 1.12em;}
    .nav-pills .nav-link.active, .nav-pills .nav-link:focus {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #fff;
        box-shadow: 0 4px 18px #764ba235;
    }
    .nav-pills .nav-link:not(.active):hover {
        background: #e9e0fc;
        color: #6c49b7;
    }
    .tab-content {
        animation: fadeInTabContent 1.1s both;
    }
    @keyframes fadeInTabContent {
        from { opacity:0; transform: translateY(15px);}
        to { opacity: 1;}
    }
    .form-label { font-weight:500; color: #613f9e;}
    .form-control:focus, .form-select:focus {
        border-color: #764ba2;
        box-shadow: 0 0 0 0.17rem rgba(118,75,162, 0.13);
    }
    button.btn-primary.btn-lg, .btn.btn-primary.btn-lg {
        border-radius: 3rem;
        background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        border: none;
        padding-left: 2.4rem;
        padding-right: 2.4rem;
        box-shadow: 0 4px 16px #764ba230;
        font-weight: 700;
        font-size: 1.14rem;
        letter-spacing: .01em;
        transition: background .16s, color .16s, box-shadow .15s;
    }
    .btn.btn-primary.btn-lg:hover {
        background: linear-gradient(90deg,#764ba2 0%, #667eea 100%);
        color: #ffe381 !important;
        box-shadow: 0 8px 32px #764ba238;
    }

    /* --------- FEATURES SECTION ---------- */
    .features-section, .destinations-section {
        background: linear-gradient(120deg, #f5f7ff 70%, #eaf1fd 100%);
    }
    .section-title {
        font-size: 2.68rem;
        font-weight: 800;
        letter-spacing: -.01em;
        margin-bottom: 1rem;
        color: #5b3aa2;
        animation: fadeInText 1.25s .1s both;
    }
    .section-subtitle {
        font-size: 1.1rem;
        color: #8d7ebe;
        margin-bottom: 2.8rem;
        opacity: .92;
        animation: fadeInText 1.25s .12s both;
    }
    .feature-card {
        text-align: center;
        padding: 2.18rem 1.5rem;
        background: #fff;
        border-radius: 16px;
        box-shadow: 0 5px 24px #764ba218, 0 1px 0 #ebe3fa;
        height: 100%;
        position: relative;
        transition: transform 0.22s cubic-bezier(.45,.97,.34,1.19), box-shadow .16s;
        animation: fadeInUp 1.2s both;
    }
    .feature-card:hover {
        transform: scale(1.055) translateY(-6px) rotateZ(-1.2deg);
        box-shadow: 0 12px 42px #6b39d53d;
        z-index:2;
    }
    .feature-icon {
        width: 80px; height: 80px;
        display: flex; align-items: center; justify-content: center;
        margin: 0 auto 1.5rem; font-size:2.7rem;
        background: linear-gradient(135deg, #f4e8ff 85%, #e7eafc 100%);
        border-radius: 50%;
        box-shadow: 0 4px 24px #a383ca18;
        animation: popUp .72s cubic-bezier(.4,.8,.45,1.05);
    }
    .text-primary   { color: #537ed1!important; }
    .text-success   { color: #24bf6c!important; }
    .text-info      { color: #4bc6ea!important; }
    .text-warning   { color: #ffc107!important; }
    .text-purple    { color: #7b69d8!important; }
    .text-danger    { color: #e04353!important; }

    /* ---------- DESTINATIONS SECTION --------- */
    .destination-card {
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 6px 32px #8b6fc914, 0 1px 0 #ebe3fa;
        transition: transform 0.23s cubic-bezier(.46,.89,.26,1.07), box-shadow .13s;
        position: relative;
        animation: fadeInUp 1.2s both;
    }
    .destination-card:hover {
        transform: scale(1.045) translateY(-7px) rotateZ(1deg);
        box-shadow: 0 16px 55px #7b53cc22;
        z-index:2;
    }
    .destination-image {
        position: relative;
        height: 200px; /* set in html */
        overflow: hidden;
        animation: fadeInImage .9s both;
    }
    @keyframes fadeInImage {
        from { opacity: 0;}
        to { opacity: 1;}
    }
    .destination-image img {
        width: 100%; height: 100%;
        object-fit: cover;
        transition: transform 0.3s cubic-bezier(.79,.26,.35,1.14);
    }
    .destination-card:hover .destination-image img {
        transform: scale(1.065) rotateZ(-1.7deg);
    }
    .destination-overlay {
        position: absolute;
        bottom: 0; left: 0; right:0;
        background: linear-gradient(0deg, #291c40ee 62%, transparent 100%);
        color: #fff;
        padding: 1.22rem 1.28rem 1.25rem 1.2rem;
        z-index:1;
        animation: fadeInText .8s .15s both;
    }
    .destination-overlay h5 {
        margin-bottom: .25rem;
        letter-spacing: .02em;
        font-weight:800;
        font-size: 1.28rem;
    }
    .destination-overlay p {
        margin-bottom: 0;
        color: #ffe381;
        font-size: 1rem;
    }
    /* ------------ CTA Section ------------ */
    .cta-section {
        background: linear-gradient(120deg, #667eea 30%, #52b0ea 100%) !important;
        color: #fff!important;
        border-radius: 2rem;
        box-shadow: 0 0 38px #262b4a13;
        animation: fadeInUp 1.1s both;
    }
    .cta-section h3 {
        font-size: 1.8rem; font-weight:700;
        letter-spacing: .01em;
        color: #ffe381 !important;
        text-shadow:0 2px 12px #ffe38144;
    }
    .cta-section .btn-light {
        background: #fff!important;
        color: #5b44b2!important;
        border: 2px solid #f3edfb;
        font-weight: 700;
        padding-left: 2.1rem;
        padding-right: 2.1rem;
        border-radius: 3rem;
        margin-top: 0.4rem;
        box-shadow: 0 2px 7px #9fa1dc17;
    }
    .cta-section .btn-light:hover {
        background: #fbf9ff!important;
        color: #5a3fa3!important;
        border-color: #f0e3fd;
        box-shadow: 0 8px 32px #dac7fa21;
    }

    /* ------------ RESPONSIVE ------------ */
    @media (max-width: 992px) {
        .hero-title { font-size: 2.6rem;}
        .section-title { font-size:2.1rem;}
        .search-card { padding:1.5rem; }
        .features-section, .destinations-section, .cta-section { border-radius: 0;}
    }
    @media (max-width: 768px) {
        .hero-title { font-size:1.7rem;}
        .search-card { margin-top:-50px; padding:1.1rem;}
        .hero-stats { flex-direction:column; gap:1rem;}
    }
</style>
{% endblock %}


{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <div class="hero-content">
                    <h1 class="hero-title">
                        Your Journey Starts Here
                        <span class="text-warning">with STARBLUE</span>
                    </h1>
                    <p class="hero-subtitle">
                        Book flights, trains, and buses with ease. Best prices, secure booking, and 24/7 customer support.
                    </p>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <h3>10M+</h3>
                            <p>Happy Travelers</p>
                        </div>
                        <div class="stat-item">
                            <h3>500+</h3>
                            <p>Destinations</p>
                        </div>
                        <div class="stat-item">
                            <h3>24/7</h3>
                            <p>Support</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="hero-image text-center">
                    <i class="fas fa-plane fa-10x opacity-75"></i>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Search Section -->
<section class="search-section py-5">
    <div class="container">
        <div class="search-card">
            <div class="search-tabs">
                <ul class="nav nav-pills justify-content-center mb-4" id="searchTabs">
                    <li class="nav-item">
                        <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#flights">
                            <i class="fas fa-plane"></i>
                            <span>Flights</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-bs-toggle="pill" data-bs-target="#trains">
                            <i class="fas fa-train"></i>
                            <span>Trains</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-bs-toggle="pill" data-bs-target="#buses">
                            <i class="fas fa-bus"></i>
                            <span>Buses</span>
                        </button>
                    </li>
                </ul>
            </div>

            <div class="tab-content">
                <!-- Flight Search -->
                <div class="tab-pane fade show active" id="flights">
                    <form action="{{ url_for('search') }}" method="POST" class="search-form">
                        <input type="hidden" name="transport_type" value="flight">
                        <div class="row g-3">
                            <div class="col-md-3">
                                <label class="form-label">From</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-plane-departure"></i></span>
                                    <input type="text" class="form-control" name="from_location" 
                                           placeholder="Departure City" required>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">To</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-plane-arrival"></i></span>
                                    <input type="text" class="form-control" name="to_location" 
                                           placeholder="Arrival City" required>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">Departure</label>
                                <input type="date" class="form-control" name="departure_date" required>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">Return</label>
                                <input type="date" class="form-control" name="return_date">
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">Passengers</label>
                                <select class="form-select" name="passengers">
                                    <option value="1">1 Passenger</option>
                                    <option value="2">2 Passengers</option>
                                    <option value="3">3 Passengers</option>
                                    <option value="4">4+ Passengers</option>
                                </select>
                            </div>
                        </div>
                        <div class="text-center mt-4">
                            <button type="submit" class="btn btn-primary btn-lg px-5">
                                <i class="fas fa-search me-2"></i>Search Flights
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Train Search -->
                <div class="tab-pane fade" id="trains">
                    <form action="{{ url_for('search') }}" method="POST" class="search-form">
                        <input type="hidden" name="transport_type" value="train">
                        <div class="row g-3">
                            <div class="col-md-3">
                                <label class="form-label">From</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-train"></i></span>
                                    <input type="text" class="form-control" name="from_location" 
                                           placeholder="Departure Station" required>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">To</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-train"></i></span>
                                    <input type="text" class="form-control" name="to_location" 
                                           placeholder="Arrival Station" required>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">Departure</label>
                                <input type="date" class="form-control" name="departure_date" required>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">Class</label>
                                <select class="form-select" name="class">
                                    <option value="sleeper">Sleeper</option>
                                    <option value="3ac">3AC</option>
                                    <option value="2ac">2AC</option>
                                    <option value="1ac">1AC</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">Passengers</label>
                                <select class="form-select" name="passengers">
                                    <option value="1">1 Passenger</option>
                                    <option value="2">2 Passengers</option>
                                    <option value="3">3 Passengers</option>
                                    <option value="4">4+ Passengers</option>
                                </select>
                            </div>
                        </div>
                        <div class="text-center mt-4">
                            <button type="submit" class="btn btn-primary btn-lg px-5">
                                <i class="fas fa-search me-2"></i>Search Trains
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Bus Search -->
                <div class="tab-pane fade" id="buses">
                    <form action="{{ url_for('search') }}" method="POST" class="search-form">
                        <input type="hidden" name="transport_type" value="bus">
                        <div class="row g-3">
                            <div class="col-md-3">
                                <label class="form-label">From</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-bus"></i></span>
                                    <input type="text" class="form-control" name="from_location" 
                                           placeholder="Departure City" required>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">To</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-bus"></i></span>
                                    <input type="text" class="form-control" name="to_location" 
                                           placeholder="Arrival City" required>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">Departure</label>
                                <input type="date" class="form-control" name="departure_date" required>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">Bus Type</label>
                                <select class="form-select" name="bus_type">
                                    <option value="ac">AC</option>
                                    <option value="non-ac">Non-AC</option>
                                    <option value="sleeper">Sleeper</option>
                                    <option value="semi-sleeper">Semi-Sleeper</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">Passengers</label>
                                <select class="form-select" name="passengers">
                                    <option value="1">1 Passenger</option>
                                    <option value="2">2 Passengers</option>
                                    <option value="3">3 Passengers</option>
                                    <option value="4">4+ Passengers</option>
                                </select>
                            </div>
                        </div>
                        <div class="text-center mt-4">
                            <button type="submit" class="btn btn-primary btn-lg px-5">
                                <i class="fas fa-search me-2"></i>Search Buses
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features-section py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="section-title">Why Choose STARBLUE?</h2>
            <p class="section-subtitle">Experience the best in travel booking with our premium services</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-mouse-pointer fa-3x text-primary"></i>
                    </div>
                    <h4>Easy Booking</h4>
                    <p>Simple and intuitive booking process with instant confirmation and e-tickets.</p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt fa-3x text-success"></i>
                    </div>
                    <h4>Secure Payment</h4>
                    <p>100% secure payment gateway with multiple payment options and fraud protection.</p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-headset fa-3x text-info"></i>
                    </div>
                    <h4>24/7 Support</h4>
                    <p>Round-the-clock customer support to assist you with any queries or issues.</p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-tags fa-3x text-warning"></i>
                    </div>
                    <h4>Best Prices</h4>
                    <p>Competitive prices with exclusive deals and discounts on all bookings.</p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-mobile-alt fa-3x text-purple"></i>
                    </div>
                    <h4>Mobile App</h4>
                    <p>Book on-the-go with our user-friendly mobile app available on iOS and Android.</p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-undo fa-3x text-danger"></i>
                    </div>
                    <h4>Easy Cancellation</h4>
                    <p>Hassle-free cancellation and refund process with transparent policies.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Popular Destinations -->
<section class="destinations-section py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="section-title">Popular Destinations</h2>
            <p class="section-subtitle">Discover amazing places with STARBLUE</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="destination-card">
                    <div class="destination-image">
                        <img src="{{ url_for('static', filename='mumbai.jpg') }}" width="300" height="200"  alt="Mumbai" class="img-fluid">
                        <div class="destination-overlay">
                            <h5>Mumbai</h5>
                            <p>Financial Capital</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <div class="destination-card">
                    <div class="destination-image">
                        <img src="{{ url_for('static', filename='delhi.jpg') }}" width="300" height="200" alt="Delhi" class="img-fluid">
                        <div class="destination-overlay">
                            <h5>Delhi</h5>
                            <p>Capital City</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <div class="destination-card">
                    <div class="destination-image">
                        <img src="{{ url_for('static', filename='bangalore.jpg') }}" width="300" height="200" alt="Bangalore" class="img-fluid">
                        <div class="destination-overlay">
                            <h5>Bangalore</h5>
                            <p>Silicon Valley</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <div class="destination-card">
                    <div class="destination-image">
                        <img src="{{ url_for('static', filename='goa.jpg') }}" width="300" height="200" alt="Goa"   class="img-fluid">

                        <div class="destination-overlay">
                            <h5>Goa</h5>
                            <p>Beach Paradise</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section py-5 bg-primary text-white">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <h3 class="mb-3">Ready to Start Your Journey?</h3>
                <p class="mb-0">Join millions of travelers who trust STARBLUE for their travel needs.</p>
            </div>
            <div class="col-lg-4 text-lg-end">
                <a href="{{ url_for('search') }}" class="btn btn-light btn-lg px-4">
                    <i class="fas fa-search me-2"></i>Start Booking
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // Set minimum date to today
    document.addEventListener('DOMContentLoaded', function() {
        const today = new Date().toISOString().split('T')[0];
        const dateInputs = document.querySelectorAll('input[type="date"]');
        dateInputs.forEach(input => {
            input.min = today;
        });
    });
</script>
{% endblock %}
